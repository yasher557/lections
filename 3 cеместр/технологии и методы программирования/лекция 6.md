#2024/12/01
# паттерны проектирования

## "наблюдатель"

## "стратегия"

Это поведенческий паттерн, который позволяет определить семейство схожих алгоритмов, инкапсулировать их в отдельные классы и сделать их взаимозаменяемыми. Благодаря этому паттерну, клиентский код может динамически выбирать и использовать один их нескольких алгоритмов, не зная его точной реализации.

Паттерн позволяет разделять алгоритмы и их поведение на отдельные классы и использовать их по отдельности. Это позволяет не включать все возможные варианты в один класс и выбирать один алгоритм с помощью множества условий. 

Данный паттерн используется, когда необходимо менять поведение объекта во время исполнения программы, требуется проводить много проверок (if-else / switch), когда у класса есть множество вариантов поведения, которые можно выделить в отдельные стратегии.

**==Пример:==**

Разрабатывается приложение для обработки платежей, которое поддерживает разные способы оплаты. Паттерн "стратегия" позволяет переключаться между разными способами, не изменяя основной код программы.

``` java

public class CreditCardPayment implements PaymentStrategy {
    private String cardNumber;

    public CreditCardPayment(String cardNumber) {
        this.cardNumber = cardNumber;
    }

    @Override
    public void pay(int amount) {
        System.out.println("Paid " + amount + " using Credit Card. Card Number: " + cardNumber);
    }
}

public class PayPalPayment implements PaymentStrategy {
    private String email;

    public PayPalPayment(String email) {
        this.email = email;
    }

    @Override
    public void pay(int amount) {
        System.out.println("Paid " + amount + " using PayPal. Email: " + email);
    }
}

public class BankTransferPayment implements PaymentStrategy {
    private String bankAccount;

    public BankTransferPayment(String bankAccount) {
        this.bankAccount = bankAccount;
    }

    @Override
    public void pay(int amount) {
        System.out.println("Paid " + amount + " using Bank Transfer. Account Number: " + bankAccount);
    }
}

public class ShoppingCart {
    private PaymentStrategy paymentStrategy;

    // Метод для установки стратегии оплаты
    public void setPaymentStrategy(PaymentStrategy paymentStrategy) {
        this.paymentStrategy = paymentStrategy;
    }

    // Метод для выполнения оплаты
    public void checkout(int amount) {
        if (paymentStrategy == null) {
            System.out.println("Payment strategy not set.");
        } else {
            paymentStrategy.pay(amount);
        }
    }
}

public class Main {
    public static void main(String[] args) {
        ShoppingCart cart = new ShoppingCart();

        // Выбираем оплату кредитной картой
        cart.setPaymentStrategy(new CreditCardPayment("1234-5678-9876-5432"));
        cart.checkout(250);

        // Выбираем оплату через PayPal
        cart.setPaymentStrategy(new PayPalPayment("user@example.com"));
        cart.checkout(150);

        // Выбираем оплату через банковский перевод
        cart.setPaymentStrategy(new BankTransferPayment("987654321"));
        cart.checkout(500);
    }
}

Результат работы программы:
Paid 250 using Credit Card. Card Number: 1234-5678-9876-5432
Paid 150 using PayPal. Email: user@example.com
Paid 500 using Bank Transfer. Account Number: 987654321
```

## java collections framework

Мощная и гибкая стандартная библиотека, предназначенная для упрощения работы с группами объектов. 
